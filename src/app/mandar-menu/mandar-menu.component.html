<mat-tab-group mat-align-tabs="center" animationDuration="0ms" style="width: 100%;">
  <mat-tab label="Formulario de petición para agregar" >
    <div class="container" style="width: 100%; padding: 15px; text-align: center;">
      <div class="row">
          <div class="col-md-12">
            <mat-card-title>Ingrese un nuevo platillo para enviar la peticion de agregar</mat-card-title>
<hr>
          <form [formGroup]="form" >
          <div class="form-group" style="width: 100%;">
            <input type="number" formControlName="id_platillo" [(ngModel)]="selectedMenu.id_platillo " class="form-control" placeholder="Ingrese el id del platillo" required />

            <div class="alert-danger" *ngIf="id_platillo.invalid && (id_platillo.dirty || id_platillo.touched)">
              <div class="container-error-message" *ngIf="id_platillo.errors.required">
                el id es requerido.
              </div>
            </div>

          </div>
          <div class="form-group">
            <input type="text" formControlName="nombre_platillo" [(ngModel)]="selectedMenu.platillo" class="form-control" placeholder="Ingrese el nombre del platillo" required/>

            <div class="alert-danger" *ngIf="nombre_platillo.invalid && (nombre_platillo.dirty || nombre_platillo.touched)">
              <div class="container-error-message" *ngIf="nombre_platillo.errors.required">
                el nombre es requerido.
              </div>
            </div>

          </div>
          <div class="form-group">
            <input type="text" formControlName="descripcion_platillo" [(ngModel)]="selectedMenu.descripcion" class="form-control" placeholder="Ingrese la descripción del platillo" required/>

            <div class="alert-danger" *ngIf="descripcion_platillo.invalid && (descripcion_platillo.dirty || descripcion_platillo.touched)">
              <div class="container-error-message" *ngIf="descripcion_platillo.errors.required">
                la descripcion es requerida.
              </div>
            </div>

          </div>
          <div class="form-group">
            <input type="text" formControlName="precio_unitario" [(ngModel)]="selectedMenu.precio_unitario" class="form-control" placeholder="Ingrese el precio del platillo" required/>

            <div class="alert-danger" *ngIf="precio_unitario.invalid && (precio_unitario.dirty || precio_unitario.touched)">
              <div class="container-error-message" *ngIf="precio_unitario.errors.required">
                el precio es requerido.
              </div>
            </div>

          </div>
          <div class="form-group">
            <input type="text" formControlName="tipo_platillo" [(ngModel)]="selectedMenu.tipo" class="form-control" placeholder="Ingrese el tipo de platillo" required/>

            <div class="alert-danger" *ngIf="tipo_platillo.invalid && (tipo_platillo.dirty || tipo_platillo.touched)">
              <div class="container-error-message" *ngIf="tipo_platillo.errors.required">
                el tipo es requerido.
              </div>
            </div>
<br>
            <div class="form-group">
              <input type="file" #seleccionar_imagen (change)="log($event)" style="visibility:hidden"/>
              <button mat-raised-button color="warn" style="background-color: rgb(0, 194, 194); font-size: large; padding: 0.5rem; position: relative; left: 25%;" (click)="seleccionar_imagen.click()" type="button">
                Seleccionar imagen
              </button>
            </div>

            <img *ngIf="imgMostrar" [src]="imgMostrar" width="400px" height="400px">

          </div>
          <div class="form-group">
            <button mat-raised-button color="warn" style="background-color: green; font-size: x-large; padding: 1rem;" [disabled]="!(form.valid)" (click)="guardar()">
              Enviar
            </button>
            <button mat-raised-button></button>
            <button mat-raised-button color="warn" style="font-size: x-large; padding: 1rem;" (click)="nuevo()">
              Limpiar Formulario
            </button>
          </div>
        </form>
        </div>
      </div>
      </div>





  </mat-tab>

  <mat-tab label="Formulario de petición para editar">
    <div class="container" style="width: 100%;  padding: 15px; text-align: center;">
      <div class="row">
          <div class="col-md-12">
            <mat-card-title>Seleccione un platillo del menú y edite sus campos, oprima enviar cuando ya esté listo</mat-card-title>
<hr>
          <form [formGroup]="form" >
          <div class="form-group">
            <input placeholder="Id platillo" type="number" formControlName="id_platillo" *ngIf = "formEditar == false" [(ngModel)]="selectedMenu.id_platillo" class="form-control" required/>
            <div class="alert-danger" *ngIf="id_platillo.invalid && (id_platillo.dirty || id_platillo.touched)">
              <div class="container-error-message" *ngIf="id_platillo.errors.required">
                el id es requerido.
              </div>
            </div>
          </div>
          <div class="form-group">
            <input placeholder="Platillo" type="text" formControlName="nombre_platillo" [(ngModel)]="selectedMenu.platillo" class="form-control" required/>
            <div class="alert-danger" *ngIf="nombre_platillo.invalid && (nombre_platillo.dirty || nombre_platillo.touched)">
              <div class="container-error-message" *ngIf="nombre_platillo.errors.required">
                el nombre es requerido.
              </div>
            </div>
          </div>
          <div class="form-group">
            <input placeholder="Descripción" type="text" formControlName="descripcion_platillo" [(ngModel)]="selectedMenu.descripcion" class="form-control" required/>
            <div class="alert-danger" *ngIf="descripcion_platillo.invalid && (descripcion_platillo.dirty || descripcion_platillo.touched)">
              <div class="container-error-message" *ngIf="descripcion_platillo.errors.required">
                el descripcion es requerido.
              </div>
            </div>
          </div>
          <div class="form-group">
            <input placeholder="Precio" type="text" formControlName="precio_unitario" [(ngModel)]="selectedMenu.precio_unitario" class="form-control" required/>
            <div class="alert-danger" *ngIf="precio_unitario.invalid && (precio_unitario.dirty || precio_unitario.touched)">
              <div class="container-error-message" *ngIf="precio_unitario.errors.required">
                el precio es requerido.
              </div>
            </div>
          </div>
          <div class="form-group">
            <input placeholder="Tipo" type="text" formControlName="tipo_platillo" [(ngModel)]="selectedMenu.tipo" class="form-control" required/>
            <div class="alert-danger" *ngIf="tipo_platillo.invalid && (tipo_platillo.dirty || tipo_platillo.touched)">
              <div class="container-error-message" *ngIf="tipo_platillo.errors.required">
                el tipo es requerido.
              </div>
            </div>
          </div>

          <div class="form-group">
            <input type="file" #seleccionar_imagen2 (change)="log2($event)" style="visibility:hidden"/>
              <button mat-raised-button color="warn" style="background-color: rgb(0, 194, 194); font-size: large; padding: 0.5rem; position: relative; left: 25%;" (click)="seleccionar_imagen2.click()" type="button" >
                Seleccionar imagen
              </button>
          </div>

          <img *ngIf="selectedMenu.img" [src]="selectedMenu.img" width="400" height="300">

          <div class="form-group">
            <button mat-raised-button color="warn" style="background-color: blue; font-size: x-large; padding: 1rem;" [disabled]="!(form.valid)" (click)="editar()">
              Enviar
            </button>
            <button mat-raised-button></button>
            <button mat-raised-button color="warn" style="font-size: x-large; padding: 1rem;" (click)="nuevo()">
              Limpiar Formulario
            </button>
          </div>
        </form>
        </div>
      </div>
      <hr>
      <div class="div card">
          <table class="table table-light">
            <thead>
              <th scope="col">Id</th>
              <th scope="col">Platillo</th>
              <th scope="col">Descripción</th>
              <th scope="col">Precio</th>
              <th scope="col">tipo</th>
              <th scope="col">Imagen</th>
            </thead>
            <tbody>
              <tr *ngFor = "let menu of menuArray"
              (click)="seleccionar(menu)"
              [class.active] = "menu == selectedMenu">
                <td>{{menu.id_platillo}}</td>
                <td>{{menu.platillo}}</td>
                <td>{{menu.descripcion}}</td>
                <td>$ {{menu.precio_unitario | puntoMil}}</td>
                <td>{{menu.tipo}}</td>
                <td><img [src]="menu.img" width="40px" height="40px"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

  </mat-tab>

  <mat-tab label="Formulario de petición para eliminar">
    <div  >
      <div class="div card" style=" text-align:center; margin: auto;">
          <table class="table table-light" >
            <thead>
              <th scope="col">Id</th>
              <th scope="col">Platillo</th>
              <th scope="col">Descripción</th>
              <th scope="col">Precio</th>
              <th scope="col">Tipo</th>
              <th scope="col">Imagen</th>
              <th scope="col">Acciones</th>
            </thead>
            <tbody>
              <tr *ngFor = "let menu of menuArray"
              (click)="seleccionar(menu)"
              [class.active] = "menu == selectedMenu">
                <td>{{menu.id_platillo}}</td>
                <td>{{menu.platillo}}</td>
                <td>{{menu.descripcion}}</td>
                <td>$ {{menu.precio_unitario | puntoMil}}</td>
                <td>{{menu.tipo}}</td>
                <td><img [src]="menu.img" width="40px" height="40px"></td>
                <td><button mat-button color="warn" type="button" (click)="eliminar(menu)"  >Eliminar</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

  </mat-tab>

  <mat-tab label="Formulario de contacto">
    <div class="container" style="width: 100%; padding: 15px;">
      <div class="row">
          <div class="col-md-12">
              <div class="well well-sm" style="text-align: center;">
                  <form class="form-horizontal" method="post">
                      <fieldset>
                          <mat-card-title>Contáctanos</mat-card-title>

                          <div class="form-group">
                              <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                              <div class="col-md-8">
                                  <input id="fname" name="name" type="text" placeholder="Asunto del correo" class="form-control" required>
                              </div>
                          </div>
                          <div class="form-group">
                              <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-user bigicon"></i></span>
                              <div class="col-md-8">
                                  <input id="lname" name="name" type="text" placeholder="Nombre" class="form-control" required>
                              </div>
                          </div>

                          <div class="form-group">
                              <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-envelope-o bigicon"></i></span>
                              <div class="col-md-8">
                                  <input id="email" name="email" type="text" placeholder="Correo" class="form-control" required>
                              </div>
                          </div>

                          <div class="form-group">
                              <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-phone-square bigicon"></i></span>
                              <div class="col-md-8">
                                  <input id="phone" name="phone" type="text" placeholder="Teléfono" class="form-control" required>
                              </div>
                          </div>

                          <div class="form-group">
                              <span class="col-md-1 col-md-offset-2 text-center"><i class="fa fa-pencil-square-o bigicon"></i></span>
                              <div class="col-md-8">
                                  <textarea class="form-control" id="message" name="message" placeholder="Escribe detalladamente que solicitud requieres y nos pondremos en contacto contigo para darte solución" rows="7"></textarea>
                              </div>
                          </div>

                          <div class="form-group">
                              <div class="col-md-12 text-center">
                                  <button mat-raised-button color="primary" style=" font-size: x-large; padding: 1rem;" type="submit" >Enviar</button>
                              </div>

                          </div>

                      </fieldset>
                  </form>
              </div>
          </div>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>

<div *ngIf="!load" class="spinner-border text-primary" role="status">
  <span class="sr-only">Cargando...</span>
</div>
